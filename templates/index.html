<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <header>
        <div class="container">
            <div class="header-inner">
                <div class="logo_outer">
                    <img src="/static/images/logo.png" class="logo" alt="">
                </div>

                <a href="/logout" class="logout">Logout</a>
            </div>
        </div>
    </header>
    <main>
        <div class="container">
            <div class="main-top">
                <section class="prediction-box">
                    <h2>Today's Prediction</h2>
                    <div class="match-info">
                        <div class="team">
                            <img src="{{ teams[0].logo_url }}" alt="{{ teams[0].name }}" />
                            <p>{{ teams[0].name }}</p>
                        </div>
                        <div class="vs">VS</div>
                        <div class="team">
                            <img src="{{ teams[1].logo_url }}" alt="{{ teams[1].name }}" />
                            <p>{{ teams[1].name }}</p>
                        </div>
                    </div>
                    <div class="prediction">Prediction <span>{{ parsed_gpt.predicted_winner }} TO WIN</span></div>
                    <div class="time">{{ parsed_gpt.kickoff_time }}</div>
                </section>

                <section class="performance-box">
                    <h2>Performance</h2>
                    <div class="performance-detail">
                        <p><strong>Fixture:</strong> {{ parsed_gpt.fixture }}</p>
                        <p><strong>Confidence Level:</strong> {{ parsed_gpt.confidence_level }}</p>
                        <p><strong>Explanation:</strong></p>
                        <p>{{ parsed_gpt.explanation }}</p>
                        <p><strong>Predicted Winner:</strong> {{ parsed_gpt.predicted_winner }}</p>
                        <p><strong>Win Probability:</strong> {{ parsed_gpt.win_probability }}%</p>
                        <p><strong>Kickoff Time:</strong> {{ parsed_gpt.kickoff_time }}</p>
                    </div>

                </section>
            </div>

            <section class="recent">
                <h2>Recent Predictions</h2>
                <div class="table_outer">
                    <table>
                        <thead>
                            <tr>
                                <th>Match</th>
                                <th>Match</th>
                                <th>Prediction</th>
                                <th>Result</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="predictionTableBody">
                            <!-- Rows will be injected here -->
                        </tbody>
                    </table>
                </div>
            </section>

        </div>
    </main>

    <!-- <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetch("/api/last_predictions")
                .then(response => response.json())
                .then(data => {
                    const tbody = document.getElementById("predictionTableBody");
                    tbody.innerHTML = ""; // Clear previous data

                    data.forEach(pred => {
                        const row = document.createElement("tr");

                        row.innerHTML = `
                            <td>${pred.team1}</td>
                            <td>${pred.team2}</td>
                            <td>${pred.prediction}</td>
                            <td class="${pred.result.toLowerCase()}">${pred.result}</td>
                            <td>${pred.date}</td>
                            `;

                        tbody.appendChild(row);
                    });
                })
                .catch(err => {
                    console.error("Error loading predictions:", err);
                });
        });

    </script> -->

    <script src="/static/js/index.js"></script>
</body>

</html>